---
import MalteTestProgramcard from "./Malte_test_programCard.astro";

import { Debug } from "astro/components";
import { log } from "astro/dist/core/logger/core";

const url = "https://esdfgaunzaoxobhvkhgm.supabase.co/rest/v1/event_list";

const options = {
  headers: {
    apikey:
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzZGZnYXVuemFveG9iaHZraGdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Nzg3MzgwNDksImV4cCI6MTk5NDMxNDA0OX0.c56k4OeHHRhzbFiv3ltdjlaUJlRax8Y-lPQ1LggxS6g",
  },
};

const response = await fetch(url, options);
const data = await response.json();
console.log(typeof data[1].start_time);
---

<script></script>
<div>
  <Debug {data[0]} />
  {data.map((event) => <MalteTestProgramcard eventName={event.event_name} startTime={'12:15'} endTime={'13:15'} eventId={event.id}>  </MalteTestProgramcard>)}
</div>
<!-- <img src={'../../public/database_billeder/' + event.event_name.split(" ").join("_") + '.webp'} alt=""> -->
<style>
  div{
    max-width: 500px;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>
